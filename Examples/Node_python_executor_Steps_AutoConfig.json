{"last_node_id":156,"last_link_id":247,"nodes":[{"id":132,"type":"SetNode","pos":[2070,940],"size":[210,58],"flags":{"collapsed":true},"order":10,"mode":0,"inputs":[{"name":"*","label":"*","type":"*","link":241}],"outputs":[{"name":"*","label":"*","type":"*","links":[246]}],"title":"Set_IF_Cfg","properties":{"previousName":""},"widgets_values":["IF_Cfg"],"color":"#232","bgcolor":"#353"},{"id":133,"type":"SetNode","pos":[2070,980],"size":[210,58],"flags":{"collapsed":true},"order":11,"mode":0,"inputs":[{"name":"*","label":"*","type":"*","link":242}],"outputs":[{"name":"*","label":"*","type":"*","links":[247]}],"title":"Set_IF_Sampler","properties":{"previousName":""},"widgets_values":["IF_Sampler"],"color":"#332922","bgcolor":"#593930"},{"id":143,"type":"easy float","pos":[1010,1230],"size":[315,58],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"float","localized_name":"浮点","label":"float","type":"FLOAT","links":[235],"slot_index":0}],"properties":{"cnr_id":"comfyui-easy-use","ver":"45d5c08bbb354bcc7427a7774140e5aa4a2989cb","Node name for S&R":"easy float"},"widgets_values":[3.5]},{"id":142,"type":"easy int","pos":[1010,1120],"size":[315,58],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"int","localized_name":"整数","label":"int","type":"INT","links":[236],"slot_index":0}],"properties":{"cnr_id":"comfyui-easy-use","ver":"45d5c08bbb354bcc7427a7774140e5aa4a2989cb","Node name for S&R":"easy int"},"widgets_values":[20]},{"id":151,"type":"easy string","pos":[980,530],"size":[315,58],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"string","localized_name":"字符串","label":"string","type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"45d5c08bbb354bcc7427a7774140e5aa4a2989cb","Node name for S&R":"easy string"},"widgets_values":["Juggernaut-XL_juggXIByRundiffusion_XL.safetensors"]},{"id":144,"type":"Sampler Scheduler Settings (JPS)","pos":[1010,1330],"size":[320,102],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"sampler_name","localized_name":"sampler_name","label":"sampler_name","type":"COMBO","links":[234],"slot_index":0},{"name":"scheduler","localized_name":"scheduler","label":"scheduler","type":"COMBO","links":null}],"properties":{"cnr_id":"jps-nodes","ver":"0e2a9aca02b17dde91577bfe4b65861df622dcaf","Node name for S&R":"Sampler Scheduler Settings (JPS)"},"widgets_values":["dpmpp_2m_sde","karras"]},{"id":156,"type":"easy showAnything","pos":[2260,1110],"size":[260,88],"flags":{},"order":15,"mode":0,"inputs":[{"name":"anything","localized_name":"输入任何","label":"anything","type":"*","shape":7,"link":247}],"outputs":[{"name":"output","localized_name":"output","label":"output","type":"*","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"45d5c08bbb354bcc7427a7774140e5aa4a2989cb","Node name for S&R":"easy showAnything"},"widgets_values":["dpmpp_2m_sde"],"color":"#332922","bgcolor":"#593930"},{"id":154,"type":"easy showAnything","pos":[2260,860],"size":[260,88],"flags":{},"order":13,"mode":0,"inputs":[{"name":"anything","localized_name":"输入任何","label":"anything","type":"*","shape":7,"link":245}],"outputs":[{"name":"output","localized_name":"output","label":"output","type":"*","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"45d5c08bbb354bcc7427a7774140e5aa4a2989cb","Node name for S&R":"easy showAnything"},"widgets_values":["30"],"color":"#332922","bgcolor":"#593930"},{"id":155,"type":"easy showAnything","pos":[2260,980],"size":[260,88],"flags":{},"order":14,"mode":0,"inputs":[{"name":"anything","localized_name":"输入任何","label":"anything","type":"*","shape":7,"link":246}],"outputs":[{"name":"output","localized_name":"output","label":"output","type":"*","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"45d5c08bbb354bcc7427a7774140e5aa4a2989cb","Node name for S&R":"easy showAnything"},"widgets_values":["5.0"],"color":"#332922","bgcolor":"#593930"},{"id":135,"type":"easy ckptNames","pos":[980,870],"size":[360,58],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"ckpt_name","localized_name":"模型名称","label":"ckpt_name","type":"*","shape":3,"links":[232],"slot_index":0}],"properties":{"cnr_id":"comfyui-easy-use","ver":"45d5c08bbb354bcc7427a7774140e5aa4a2989cb","Node name for S&R":"easy ckptNames","hasSecondTab":false,"secondTabText":"Send Back","enableTabs":false,"secondTabOffset":80,"tabWidth":65,"secondTabWidth":65,"tabXOffset":10},"widgets_values":["SD_XL\\0_Juggernaut-XL_juggXIByRundiffusion_XL.safetensors"],"color":"#233","bgcolor":"#355"},{"id":134,"type":"easy showAnything","pos":[2260,1240],"size":[260,88],"flags":{},"order":12,"mode":0,"inputs":[{"name":"anything","localized_name":"输入任何","label":"anything","type":"*","shape":7,"link":243}],"outputs":[{"name":"output","localized_name":"output","label":"output","type":"*","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"45d5c08bbb354bcc7427a7774140e5aa4a2989cb","Node name for S&R":"easy showAnything"},"widgets_values":["30;5;dpmpp_2m_sde"],"color":"#332922","bgcolor":"#593930"},{"id":123,"type":"easy int","pos":[1020,970],"size":[320,58],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"int","localized_name":"整数","label":"int","type":"INT","links":[231]}],"properties":{"cnr_id":"comfyui-easy-use","ver":"45d5c08bbb354bcc7427a7774140e5aa4a2989cb","Node name for S&R":"easy int"},"widgets_values":[0]},{"id":152,"type":"easy string","pos":[980,630],"size":[315,58],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"string","localized_name":"字符串","label":"string","type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"45d5c08bbb354bcc7427a7774140e5aa4a2989cb","Node name for S&R":"easy string"},"widgets_values":["DreamShaperXL_v21TurboDPMSDE_XL.safetensors"]},{"id":153,"type":"easy string","pos":[980,730],"size":[315,58],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"name":"string","localized_name":"字符串","label":"string","type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"45d5c08bbb354bcc7427a7774140e5aa4a2989cb","Node name for S&R":"easy string"},"widgets_values":["RealArchvis_V30_XL.safetensors"]},{"id":131,"type":"SetNode","pos":[2070,890],"size":[210,58],"flags":{"collapsed":true},"order":9,"mode":0,"inputs":[{"name":"*","label":"*","type":"*","link":240}],"outputs":[{"name":"*","label":"*","type":"*","links":[245]}],"title":"Set_IF_Steps","properties":{"previousName":""},"widgets_values":["IF_Steps"],"color":"#1b4669","bgcolor":"#29699c"},{"id":112,"type":"NodePython","pos":[1490,860],"size":[540,1040],"flags":{},"order":8,"mode":0,"inputs":[{"name":"anyA","localized_name":"anyA","label":"anyA","type":"*","shape":7,"link":232},{"name":"anyB","localized_name":"anyB","label":"anyB","type":"*","shape":7,"link":231},{"name":"anyC","localized_name":"anyC","label":"anyC","type":"*","shape":7,"link":236},{"name":"anyD","localized_name":"anyD","label":"anyD","type":"*","shape":7,"link":235},{"name":"anyE","localized_name":"anyE","label":"anyE","type":"*","shape":7,"link":234},{"name":"anyF","localized_name":"anyF","label":"anyF","type":"*","shape":7,"link":null}],"outputs":[{"name":"num1","localized_name":"num1","label":"num1","type":"*","links":[240],"slot_index":0},{"name":"num2","localized_name":"num2","label":"num2","type":"*","links":[241],"slot_index":1},{"name":"text1","localized_name":"text1","label":"text1","type":"*","links":[242],"slot_index":2},{"name":"text2","localized_name":"text2","label":"text2","type":"*","links":[243],"slot_index":3},{"name":"any1","localized_name":"any1","label":"any1","type":"*","links":[],"slot_index":4},{"name":"any2","localized_name":"any2","label":"any2","type":"*","links":[]},{"name":"any3","localized_name":"any3","label":"any3","type":"*","links":[]}],"properties":{"Node name for S&R":"NodePython"},"widgets_values":["## Automatically generate configuration parameters for step count, CFG value, and sampler name based on the input model name\n## 根据输入的模型名称，自动化生成步数、CFG值和采样器名称的配置参数\n## num: steps (int), cfg (float), sampler (str)\n## 0: AUTO\n## 1: 5;2;dpmpp_sde (Light_Turbo / 轻量级模型)\n## 2: 30;5;dpmpp_2m_sde (Normal / 常规模型)\n## 3: 20;3.5;dpmpp_2m_sde (3User / 3自定义参数)\n\n# --- Imports / 导入 ---\nimport torch\nimport math\n# (No specific imports needed) / (无需特定导入)\n\n# --- Function Definition / 函数定义 ---\ndef generate_dynamic_settings(logic_param_A, logic_param_B, steps_val, cfg_val, sampler_val):\n    \"\"\"\n    Determines mode, gets/builds settings string, parses it.\n    确定模式，获取/构建设置字符串，并解析它。\n    Returns: steps (int), cfg (float), sampler (str), full_string (str)\n    返回: 步数 (int), CFG (float), 采样器 (str), 完整字符串 (str)\n    \"\"\"\n    # Determine mode / 确定模式\n    input_str = str(logic_param_A).lower()\n    input_int_str = str(logic_param_B)\n    mode = \"2\" # Default / 默认\n    if input_int_str in [\"1\", \"2\", \"3\"]:\n        mode = input_int_str\n    elif input_int_str == \"0\":\n        if \"light\" in input_str or \"turbo\" in input_str:\n            mode = \"1\"\n        elif \"userconfig\" in input_str:\n            mode = \"3\"\n\n    # Get template and process placeholders / 获取模板并处理占位符\n    if mode == \"1\":\n        processed_string = \"5;2;dpmpp_sde\"\n    elif mode == \"2\":\n        processed_string = \"30;5;dpmpp_2m_sde\"\n    else: # mode == \"3\" or fallback / 模式为 \"3\" 或回退\n        processed_string = \"steps;cfg;sampler\"\n        processed_string = processed_string.replace(\"steps\", str(steps_val))\n        processed_string = processed_string.replace(\"cfg\", str(cfg_val))\n        processed_string = processed_string.replace(\"sampler\", str(sampler_val))\n\n    # Parse the final string / 解析最终字符串\n    parts = processed_string.split(';')\n    # Assumes parts always has 3 elements / 假设 parts 总是有3个元素\n    steps_out = int(parts[0])\n    cfg_out = float(parts[1])\n    sampler_out = parts[2]\n\n    return steps_out, cfg_out, sampler_out, processed_string\n\n# --- Main Execution Logic & Node Interface / 主要执行逻辑与节点接口 ---\n\n# Call the function using node inputs / 使用节点输入调用函数\n\ncalculated_steps, calculated_cfg, calculated_sampler, full_output_string = generate_dynamic_settings(\n    anyA,  # Corresponds to logic_param_A / 对应 logic_param_A\n    anyB,   # Corresponds to logic_param_B / 对应 logic_param_B\n    anyC,   # Corresponds to steps_val / 对应 steps_val\n    anyD,   # Corresponds to cfg_val / 对应 cfg_val\n    anyE    # Corresponds to sampler_val / 对应 sampler_val\n)\n\n# --- Assign Outputs for Node / 为节点分配输出 ---\nnum1 = calculated_steps\nnum2 = calculated_cfg\ntext1 = calculated_sampler\ntext2 = full_output_string",[false,true]]}],"links":[[231,123,0,112,1,"*"],[232,135,0,112,0,"*"],[234,144,0,112,4,"*"],[235,143,0,112,3,"*"],[236,142,0,112,2,"*"],[240,112,0,131,0,"*"],[241,112,1,132,0,"*"],[242,112,2,133,0,"*"],[243,112,3,134,0,"*"],[245,131,0,154,0,"*"],[246,132,0,155,0,"*"],[247,133,0,156,0,"*"]],"groups":[{"id":1,"title":"3User / 3自定义参数","bounding":[1000,1050,340,395.6000061035156],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Other model /其他模型名称","bounding":[970,460,335,341.6000061035156],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.0610764609500007,"offset":[-1106.3948305515385,-919.5761365051892]},"node_versions":{"comfy-core":"v0.3.10-33-g7da85fa","python-interpreter-node":"ac2547ada25643be7cfe4b8030e57059c9da5bd7"},"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"ue_links":[]},"version":0.4}